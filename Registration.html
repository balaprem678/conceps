<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <title>Register Form</title>

    <style>
        .register_section {
            overflow-x: hidden;
        }

        .asterisk {
            color: red;
        }

        .error {
            color: red;
            font-size: 12px;
            display: none;
        }

        .input-error {
            border: 1px solid red !important;
        }

        .submit-btn {
            background: #114B9C;
            color: #fff;
            padding: 10px 30px;
            border: none;
            border-radius: 5px;
        }

        .years-of-exp {
            display: none;
        }
    </style>
</head>

<body>

    <div class="register_section">

        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h4 class="mb-0">Registration Form</h4>
                <small class="text-muted">
                    Central Hub for Personal Customization
                </small>
            </div>

            <button class="btn btn-outline-secondary btn-sm">
                View Profile
            </button>
        </div>

        <div class="form-card">

            <form id="registerForm" novalidate>

                <div class="row g-4">

                    <!-- Name -->
                    <div class="col-md-6">
                        <label class="form-label">Full Name <sup class="asterisk">*</sup></label>
                        <input type="text" class="form-control" id="name">
                        <small class="error">Enter Full Name</small>
                    </div>

                    <!-- Email -->
                    <div class="col-md-6">
                        <label class="form-label">Email Address <sup class="asterisk">*</sup></label>
                        <input type="email" class="form-control" id="email">
                        <small class="error">Enter Valid Email</small>
                    </div>

                    <!-- Contact -->
                    <div class="col-md-6">
                        <label class="form-label">Contact Number <sup class="asterisk">*</sup></label>
                        <input type="text" class="form-control" id="contact">
                        <small class="error">Enter 10 Digit Number</small>
                    </div>

                    <!-- Department -->
                    <div class="col-md-6">
                        <label class="form-label">Department *</label>
                        <select class="form-select" id="department">
                            <option selected value="">Department</option>
                            <option>IT</option>
                            <option>HR</option>
                            <option>Admin</option>
                        </select>
                        <small class="error">Select Department</small>
                    </div>

                    <!-- State -->
                    <div class="col-md-6">
                        <label class="form-label">State *</label>
                        <select class="form-select" id="state">
                            <option selected value="">Select State</option>
                            <option>Tamil Nadu</option>
                            <option>Kerala</option>
                        </select>
                        <small class="error">Select State</small>
                    </div>

                    <!-- City -->
                    <div class="col-md-6">
                        <label class="form-label">City *</label>
                        <select class="form-select" id="city">
                            <option selected value="">Select City</option>
                            <option>Chennai</option>
                            <option>Madurai</option>
                        </select>
                        <small class="error">Select City</small>
                    </div>

                    <!-- Address -->
                    <div class="col-12">
                        <label class="form-label">Address</label>
                        <textarea class="form-control"></textarea>
                    </div>

                    <!-- Working -->
                    <div class="col-12">
                        <label class="form-label d-block">
                            Currently Working or not
                        </label>

                        <div class="form-check form-check-inline">
                            <input class="form-check-input working" type="radio" name="working" value="yes" checked>
                            <label class="form-check-label">Yes</label>
                        </div>

                        <div class="form-check form-check-inline">
                            <input class="form-check-input working" type="radio" name="working" value="no">
                            <label class="form-check-label">No</label>
                        </div>
                    </div>

                    <!-- Experience -->
                    <div class="col-12 years-of-exp" id="experienceBox">

                        <label class="form-label d-block">
                            Years of Experience
                        </label>

                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="experience">
                            <label class="form-check-label">1 Year</label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="experience">
                            <label class="form-check-label">2+ Years</label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="experience">
                            <label class="form-check-label">4+ Years</label>
                        </div>

                        <small class="error">Select Experience</small>

                    </div>

                    <!-- Submit -->
                    <div class="col-12">
                        <button type="submit" class="submit-btn">
                            Submit
                        </button>
                    </div>

                </div>
            </form>

        </div>
    </div>

    <script>

        /* Show Hide Experience */
        const workingRadio = document.querySelectorAll(".working");
        const expBox = document.getElementById("experienceBox");

        workingRadio.forEach(radio => {
            radio.addEventListener("change", () => {
                expBox.style.display =
                    radio.value === "yes" && radio.checked
                        ? "block"
                        : "none";
            });
        });

        /* Validation */

        document.getElementById("registerForm")
            .addEventListener("submit", function (e) {

                e.preventDefault();

                let valid = true;

                function showError(input) {
                    input.classList.add("input-error");
                    input.nextElementSibling.style.display = "block";
                    valid = false;
                }

                function hideError(input) {
                    input.classList.remove("input-error");
                    input.nextElementSibling.style.display = "none";
                }

                /* Name */
                const name = document.getElementById("name");
                name.value.trim() === ""
                    ? showError(name) : hideError(name);

                /* Email */
                const email = document.getElementById("email");
                const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

                !email.value.match(emailPattern)
                    ? showError(email) : hideError(email);

                /* Contact */
                const contact = document.getElementById("contact");
                const phonePattern = /^[0-9]{10}$/;

                !contact.value.match(phonePattern)
                    ? showError(contact) : hideError(contact);

                /* Selects */
                ["department", "state", "city"].forEach(id => {
                    let el = document.getElementById(id);
                    el.value === ""
                        ? showError(el) : hideError(el);
                });

                /* Experience validation */
                if (expBox.style.display === "block") {
                    const exp = document.querySelector(
                        'input[name="experience"]:checked'
                    );

                    const error = expBox.querySelector(".error");

                    if (!exp) {
                        error.style.display = "block";
                        valid = false;
                    } else {
                        error.style.display = "none";
                    }
                }

                /* Final Submit */
                if (valid) {
                    alert("Form Submitted Successfully âœ…");
                    this.reset();
                    expBox.style.display = "none";
                }

            });

    </script>

</body>

</html>